(this.webpackJsonpwebmap=this.webpackJsonpwebmap||[]).push([[0],{27:function(e,t,r){},45:function(e,t,r){},47:function(e,t,r){},48:function(e,t,r){"use strict";r.r(t);var n=r(11),a=r.n(n),c=r(4),i=r(19),s=r(0),o=r(20),l=r(51),u=r(53),j=r(54),d=r(52),m=r(1),b=function(){return Object(m.jsx)("div",{className:"map-legend",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("span",{className:"dot orient"})}),Object(m.jsx)("td",{children:Object(m.jsx)("label",{children:"Travelogues on the Orient"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("span",{className:"dot non-orient"})}),Object(m.jsx)("td",{children:Object(m.jsx)("label",{children:"No Travelogues on the Orient"})})]})]})})})},f=(r(26),r(27),function(e){var t=Object(o.a)(e);return[t.slice(0,2).slice().reverse(),t.slice(2).slice().reverse()]}),h=function(e){var t=e.data,r=e.timerange,n=null===t||void 0===t?void 0:t.features.filter((function(e){return"Point"===(null===e||void 0===e?void 0:e.geometry.type)})),a=r?n.filter((function(e){var t=r.min,n=r.max,a=e.properties,c=a.earliest,i=a.latest;return c<=n&&i>=t})):n,c=function(e){var t=r?e.records.map((function(e){return e.year})).filter((function(e){return e>=r.min&&e<=r.max})).length:e.properties.num_works;return Math.max(5,t/2.5)},i=function(e){return(r?function(e){var t=e.records.filter((function(e){return e.year>=r.min&&e.year<=r.max}));return new Set(t.reduce((function(e,t){return e.concat(t.markers)}),[]))}(e):new Set(e.records.reduce((function(e,t){return e.concat(t.markers)}),[]))).has("Orient")};return Object(m.jsx)(m.Fragment,{children:a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(l.a,{bounds:f(t),preferCanvas:!0,children:[Object(m.jsx)(u.a,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),a.map((function(e,t){return Object(m.jsx)(j.a,{center:e.geometry.coordinates.slice().reverse(),radius:c(e),pathOptions:(r=e,{stroke:!0,color:"#000",weight:1.5,opacity:1,fill:!0,fillColor:i(r)?"#ff9a1e":"#b7b7b7",fillOpacity:1}),children:Object(m.jsxs)(d.a,{children:[Object(m.jsx)("a",{href:e.properties.geonames_uri,children:e.properties.placename})," ",Object(m.jsx)("br",{}),e.properties.num_works," works"]})},t);var r}))]}),Object(m.jsx)(b,{})]})})},O=r(18),p=r(17),x=r.n(p),v=(r(45),r(46),function(e){var t=e.data[0],r=e.data[e.data.length-1],n=Object(s.useState)({min:t,max:r}),a=Object(c.a)(n,2),i=a[0],o=a[1],l=function(e){return(e-t)/(r-t)*100};return Object(m.jsx)("div",{className:"t6e-timeline",children:Object(m.jsxs)("div",{className:"t6e-timeline-inner",children:[Object(m.jsx)("div",{className:"t6e-ticks",children:e.data.map((function(e){return Object(m.jsx)("div",{className:"t6e-tick-wrapper",style:{left:"".concat(l(e),"%")},children:Object(m.jsx)("div",{className:"t6e-tick"})},e)}))}),Object(m.jsx)(x.a,{draggableTrack:!0,minValue:t,maxValue:r,value:i,onChange:function(n){var a={min:Math.max(t,n.min),max:Math.min(r,n.max)};o(a),e.onChange(n)}})]})})}),g=(r(47),function(e){var t=e.features.reduce((function(e,t){return t.records.forEach((function(t){return e.add(t.year)})),e}),new Set);return Object(i.a)(Array.from(t).slice().sort())}),y=function(){var e=Object(O.a)("map.json",(function(e){return fetch(e).then((function(e){return e.json()}))})).data,t=Object(s.useState)(),r=Object(c.a)(t,2),n=r[0],a=r[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(h,{data:e,timerange:n}),e&&Object(m.jsx)(v,{data:g(e),onChange:function(e){return a(e)}})]})},k=r(3),w=r.n(k);delete w.a.Icon.Default.prototype._getIconUrl,w.a.Icon.Default.mergeOptions({iconRetinaUrl:"images/leaflet/marker-icon-2x.png",iconUrl:"images/leaflet/marker-icon.png",shadowUrl:"images/leaflet/marker-shadow.png"}),a.a.render(Object(m.jsx)(y,{}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1a98f644.chunk.js.map